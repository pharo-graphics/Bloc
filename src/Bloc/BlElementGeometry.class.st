Class {
	#name : #BlElementGeometry,
	#superclass : #Object,
	#traits : 'TBlDebug',
	#classTraits : 'TBlDebug classTrait',
	#category : 'Bloc-Basic-Geometry'
}

{ #category : 'converting' }
BlElementGeometry >> asElement [
	"Answer an element with me as its geometry, with appropriate default values."

	| anElement |
	anElement := BlElement new
		geometry: self;
		border: (BlBorder paint: Color gray width: 2);
		yourself.

	self hasCaps
		ifTrue: [
			anElement
				background: Color transparent;
				outskirts: BlOutskirts centered ]
		ifFalse: [
			anElement
				background: (Color gray alpha: 0.4) ].

	^ anElement
]

{ #category : 'geometry testing' }
BlElementGeometry >> containsPoint: aPoint alreadyInGeometryBoundsOf: aBlElement [
	"Answer whether aPoint is contained by this geometry.
	Assume aPoint is already inside the geometry bounds rectangle."
	
	^ self subclassResponsibility
]

{ #category : 'api - bounds' }
BlElementGeometry >> geometryBounds: aBounds of: aBlElement [
	"Load my geometry bounds for a given element in a mutable rectangle.
	@see #geometryBounds for more info"
	<return: #BlBounds>
	
	^ self subclassResponsibility
]

{ #category : 'testing' }
BlElementGeometry >> hasCaps [
	"Answer whether my path has caps, i.e. if I include an open line."

	^ self subclassResponsibility
]

{ #category : 'testing' }
BlElementGeometry >> hasJoins [
	"Answer whether I have joins, i.e. my path presents edges between a segment and another."

	^ self subclassResponsibility
]

{ #category : 'geometry' }
BlElementGeometry >> matchElement: anElement [
	"Adapt me to match the size of a given element"

	self subclassResponsibility
]

{ #category : 'api - cache' }
BlElementGeometry >> releaseCache [
	self subclassResponsibility
]

{ #category : 'api - cache' }
BlElementGeometry >> releaseStrokedBoundsCache [
	self subclassResponsibility
]

{ #category : 'serialization' }
BlElementGeometry >> storeOn: aStream [
	aStream nextPutAll: self class name; space; nextPutAll: 'new'
]

{ #category : 'visual bounds' }
BlElementGeometry >> strokedBounds: aBlBounds of: anElement [
	"Return stroked bounds of a geometry if it would be stroked according to element's border configuration.
	Dispatch through outskirts first"
	<return: #BlBounds>
	
	^ self subclassResponsibility
]
